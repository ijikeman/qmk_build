name: "Qmk Firmware Build Action"
description: "Building qmk firmware"
inputs:
  qmk_firmware_version:
    description: 'QMK Firmware version'
    required: false
  keyboard:
    description: 'Keyboard name'
    required: true
  rev:
    description: 'Keyboard revision name'
    required: true
  keymap:
    description: 'Keymap name'
    required: true

outputs:
  hex_file:
    description: 'Compiled firmeware file'

runs:
  using: 'docker'
  image: "docker://ghcr.io/ijikeman/qmk_build:${{ inputs.qmk_firmware_version || 'latest' }}"
  env:
    keyboard: ${{ inputs.keyboard }}
    rev: ${{ inputs.rev }}
    keymap: ${{ inputs.keymap }}

branding:
  icon: "mic"
  color: "blue"
